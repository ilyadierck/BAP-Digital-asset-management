{"id":"node_modules/@ew-did-registry/claims/dist/claimsIssuer/claimsIssuer.js","dependencies":[{"name":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claimsIssuer\\claimsIssuer.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\src\\claimsIssuer\\claimsIssuer.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\package.json","includedInParent":true,"mtime":1643668307056},{"name":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\package.json","includedInParent":true,"mtime":1642815195336},{"name":"eciesjs","loc":{"line":17,"column":26},"parent":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claimsIssuer\\claimsIssuer.js","resolved":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\eciesjs\\dist\\index.js"},{"name":"crypto","loc":{"line":18,"column":41},"parent":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claimsIssuer\\claimsIssuer.js","resolved":"C:\\Users\\Ilya\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\node_modules\\crypto-browserify\\index.js"},{"name":"sjcl","loc":{"line":21,"column":23},"parent":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claimsIssuer\\claimsIssuer.js","resolved":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\sjcl\\sjcl.js"},{"name":"../claims","loc":{"line":22,"column":25},"parent":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claimsIssuer\\claimsIssuer.js","resolved":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claims\\index.js"},{"name":"buffer","parent":"C:\\Users\\Ilya\\Documents\\Jaar3Informatica\\Bachelorproef\\DID testing\\node_modules\\@ew-did-registry\\claims\\dist\\claimsIssuer\\claimsIssuer.js","resolved":"C:\\Users\\Ilya\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\node_modules\\buffer\\index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\n\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClaimsIssuer = void 0;\n/* eslint-disable new-cap */\nconst eciesjs_1 = require(\"eciesjs\");\nconst crypto_1 = __importDefault(require(\"crypto\"));\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nconst sjcl_1 = require(\"sjcl\");\nconst claims_1 = require(\"../claims\");\nclass ClaimsIssuer extends claims_1.Claims {\n    /**\n     * Verifies user signature on token and issue new token signed by issuer./\n     * Throws if user signature not valid\n     *\n     * @example\n     * ```typescript\n     * import { Keys } from '@ew-did-registry/keys';\n     * import { ClaimsIssuer } from '@ew-did-registry/claims';\n     *\n     * const issuer = new Keys();\n     * claims = new ClaimsIssuer(issuer);\n     * const issuedToken = await claims.issuePublicClaim(token);\n     * ```\n     * @param { string | IPublicClaim } claim - claim to issue. Can be\n     * specified as signed or unsigned claim\n     * @returns { Promise<string> } issued token\n     */\n    issuePublicClaim(claim) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (typeof claim === 'string') {\n                claim = this.jwt.decode(claim);\n            }\n            const { claimData, did } = claim;\n            const signedToken = yield this.jwt.sign({ claimData, did, signer: this.did }, {\n                algorithm: 'ES256', issuer: this.did, subject: claim.did, noTimestamp: true,\n            });\n            return signedToken;\n        });\n    }\n    /**\n     * Verifies user signature on token, decrypt private data and issue new token\n     * with sha256-hashed decrypted data signed by issuer. Throws if user\n     * signature not valid\n     *\n     * @example\n     * ```typescript\n     * import { Keys } from '@ew-did-registry/keys';\n     * import { ClaimsIssuer } from '@ew-did-registry/claims';\n     *\n     * const issuer = new Keys();\n     * claims = new ClaimsIssuer(issuer);\n     * const issuedToken = await claims.issuePrivateClaim(token);\n     * ```\n     * @params { string } token to verify\n     * @returns { Promise<string> } issued token\n     */\n    issuePrivateClaim(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.keys.privateKey) {\n                throw new Error('Private claim not supported');\n            }\n            const curve = sjcl_1.ecc.curves.k256;\n            const g = curve.G;\n            const claim = this.jwt.decode(token);\n            if (!(yield this.verifySignature(token, claim.iss))) {\n                throw new Error('User signature not valid');\n            }\n            claim.signer = this.did;\n            Object.entries(claim.claimData).forEach(([key, value]) => {\n                const decryptedField = eciesjs_1.decrypt(this.keys.privateKey, Buffer.from(value, 'hex'));\n                const fieldHash = crypto_1.default.createHash('sha256').update(decryptedField).digest('hex');\n                const PK = g.mult(new sjcl_1.bn(fieldHash));\n                claim.claimData[key] = PK.toBits();\n            });\n            delete claim.iss;\n            return this.jwt.sign(claim, {\n                algorithm: 'ES256', issuer: this.did,\n                subject: claim.sub,\n                noTimestamp: true,\n            });\n        });\n    }\n}\nexports.ClaimsIssuer = ClaimsIssuer;\nexports.default = ClaimsIssuer;\n"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":17,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":1,"column":28},"generated":{"line":17,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":18,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":2,"column":34},"generated":{"line":18,"column":37}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":19,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":3,"column":28},"generated":{"line":19,"column":52}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":20,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":4,"column":60},"generated":{"line":20,"column":60}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":21,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":5,"column":13},"generated":{"line":21,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":22,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":6,"column":31},"generated":{"line":22,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":23,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":8,"column":35},"generated":{"line":23,"column":38}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":24,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":11,"column":13},"generated":{"line":24,"column":6}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":11,"column":26},"generated":{"line":24,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":11,"column":34},"generated":{"line":24,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":11,"column":40},"generated":{"line":24,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":12,"column":2},"generated":{"line":25,"column":4}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":28,"column":5},"generated":{"line":41,"column":7}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":42,"column":4}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":42,"column":20}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":29,"column":25},"generated":{"line":42,"column":21}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":29,"column":53},"generated":{"line":42,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":44,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":44,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":44,"column":23}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":44,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":44,"column":33}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":33},"generated":{"line":44,"column":41}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":44,"column":43}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":45,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":45,"column":21}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":14},"generated":{"line":45,"column":24}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":18},"generated":{"line":45,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":45,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":22},"generated":{"line":45,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":23},"generated":{"line":45,"column":33}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":29},"generated":{"line":45,"column":39}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":30},"generated":{"line":45,"column":40}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":45,"column":45}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":52},"generated":{"line":45,"column":46}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":31,"column":53},"generated":{"line":45,"column":47}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":32,"column":5},"generated":{"line":46,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":47,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":10},"generated":{"line":47,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":47,"column":20}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":21},"generated":{"line":47,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":47,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":26},"generated":{"line":47,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":47,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":47,"column":39}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":36},"generated":{"line":47,"column":44}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":33,"column":37},"generated":{"line":47,"column":45}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":48,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":48,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":48,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":24},"generated":{"line":48,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":30},"generated":{"line":48,"column":38}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":34},"generated":{"line":48,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":48,"column":43}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":38},"generated":{"line":48,"column":46}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":48,"column":47}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":48,"column":51}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":48,"column":52}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":48,"column":54}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":48,"column":63}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":19},"generated":{"line":48,"column":65}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":48,"column":68}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":48,"column":70}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":30},"generated":{"line":48,"column":76}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":32},"generated":{"line":48,"column":78}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":36},"generated":{"line":48,"column":82}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":48,"column":83}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":40},"generated":{"line":48,"column":86}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":35,"column":42},"generated":{"line":48,"column":88}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":48,"column":90}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":49,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":17},"generated":{"line":49,"column":25}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":49,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":26},"generated":{"line":49,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":28},"generated":{"line":49,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":49,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":36},"generated":{"line":49,"column":44}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":40},"generated":{"line":49,"column":48}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":41},"generated":{"line":49,"column":49}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":44},"generated":{"line":49,"column":52}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":46},"generated":{"line":49,"column":54}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":53},"generated":{"line":49,"column":61}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":55},"generated":{"line":49,"column":63}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":60},"generated":{"line":49,"column":68}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":61},"generated":{"line":49,"column":69}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":64},"generated":{"line":49,"column":72}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":66},"generated":{"line":49,"column":74}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":77},"generated":{"line":49,"column":85}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":79},"generated":{"line":49,"column":87}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":37,"column":83},"generated":{"line":49,"column":91}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":50,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":39,"column":5},"generated":{"line":50,"column":14}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":39,"column":6},"generated":{"line":50,"column":15}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":51,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":51,"column":19}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":51,"column":30}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":51,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":52,"column":8}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":41,"column":3},"generated":{"line":52,"column":9}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":41,"column":3},"generated":{"line":53,"column":5}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":43,"column":2},"generated":{"line":54,"column":4}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":59,"column":5},"generated":{"line":70,"column":7}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":71,"column":4}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":71,"column":21}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":60,"column":26},"generated":{"line":71,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":60,"column":39},"generated":{"line":71,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":4},"generated":{"line":73,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":73,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":9},"generated":{"line":73,"column":17}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":73,"column":21}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":14},"generated":{"line":73,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":18},"generated":{"line":73,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":19},"generated":{"line":73,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":73,"column":37}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":61,"column":31},"generated":{"line":73,"column":39}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":74,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":74,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":74,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":21},"generated":{"line":74,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":22},"generated":{"line":74,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":51},"generated":{"line":74,"column":61}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":52},"generated":{"line":74,"column":62}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":62,"column":53},"generated":{"line":74,"column":63}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":63,"column":5},"generated":{"line":75,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":4},"generated":{"line":76,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":76,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":76,"column":23}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":76,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":47},"generated":{"line":76,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":48},"generated":{"line":76,"column":37}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":54},"generated":{"line":76,"column":43}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":55},"generated":{"line":76,"column":44}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":59},"generated":{"line":76,"column":48}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":64,"column":60},"generated":{"line":76,"column":49}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":4},"generated":{"line":77,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":77,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":77,"column":19}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":77,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":19},"generated":{"line":77,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":20},"generated":{"line":77,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":21},"generated":{"line":77,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":65,"column":22},"generated":{"line":77,"column":30}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":4},"generated":{"line":78,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":78,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":15},"generated":{"line":78,"column":23}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":33},"generated":{"line":78,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":37},"generated":{"line":78,"column":30}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":38},"generated":{"line":78,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":41},"generated":{"line":78,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":42},"generated":{"line":78,"column":35}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":48},"generated":{"line":78,"column":41}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":49},"generated":{"line":78,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":54},"generated":{"line":78,"column":47}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":72},"generated":{"line":78,"column":48}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":66,"column":73},"generated":{"line":78,"column":49}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":79,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":79,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":9},"generated":{"line":79,"column":17}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":79,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":79,"column":24}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":20},"generated":{"line":79,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":21},"generated":{"line":79,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":36},"generated":{"line":79,"column":44}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":37},"generated":{"line":79,"column":45}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":42},"generated":{"line":79,"column":50}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":44},"generated":{"line":79,"column":52}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":49},"generated":{"line":79,"column":57}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":50},"generated":{"line":79,"column":58}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":63},"generated":{"line":79,"column":61}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":64},"generated":{"line":79,"column":62}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":65},"generated":{"line":79,"column":63}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":67,"column":67},"generated":{"line":79,"column":65}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":80,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":80,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":16},"generated":{"line":80,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":21},"generated":{"line":80,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":22},"generated":{"line":80,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":48},"generated":{"line":80,"column":58}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":49},"generated":{"line":80,"column":59}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":68,"column":50},"generated":{"line":80,"column":60}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":69,"column":5},"generated":{"line":81,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":4},"generated":{"line":82,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":9},"generated":{"line":82,"column":17}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":82,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":16},"generated":{"line":82,"column":24}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":19},"generated":{"line":82,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":23},"generated":{"line":82,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":82,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":27},"generated":{"line":82,"column":35}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":70,"column":28},"generated":{"line":82,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":83,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":10},"generated":{"line":83,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":83,"column":19}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":18},"generated":{"line":83,"column":26}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":83,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":83,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":25},"generated":{"line":83,"column":33}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":34},"generated":{"line":83,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":35},"generated":{"line":83,"column":43}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":36},"generated":{"line":83,"column":44}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":43},"generated":{"line":83,"column":51}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":44},"generated":{"line":83,"column":52}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":45},"generated":{"line":83,"column":53}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":46},"generated":{"line":83,"column":54}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":49},"generated":{"line":83,"column":57}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":51},"generated":{"line":83,"column":59}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":56},"generated":{"line":83,"column":64}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":57},"generated":{"line":83,"column":65}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":59},"generated":{"line":83,"column":67}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":71,"column":61},"generated":{"line":83,"column":69}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":72,"column":6},"generated":{"line":84,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":84,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":84,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":72,"column":29},"generated":{"line":84,"column":39}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":72,"column":36},"generated":{"line":84,"column":56}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":84,"column":57}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":84,"column":61}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":84,"column":62}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":73,"column":17},"generated":{"line":84,"column":66}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":73,"column":18},"generated":{"line":84,"column":67}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":73,"column":38},"generated":{"line":84,"column":77}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":84,"column":79}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":14},"generated":{"line":84,"column":85}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":84,"column":86}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":84,"column":90}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":20},"generated":{"line":84,"column":91}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":84,"column":96}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":37},"generated":{"line":84,"column":98}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":42},"generated":{"line":84,"column":103}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":74,"column":43},"generated":{"line":84,"column":104}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":75,"column":7},"generated":{"line":84,"column":105}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":84,"column":106}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":85,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":85,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":21},"generated":{"line":85,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":85,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":30},"generated":{"line":85,"column":50}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":31},"generated":{"line":85,"column":51}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":41},"generated":{"line":85,"column":61}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":42},"generated":{"line":85,"column":62}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":50},"generated":{"line":85,"column":70}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":51},"generated":{"line":85,"column":71}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":52},"generated":{"line":85,"column":72}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":58},"generated":{"line":85,"column":78}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":59},"generated":{"line":85,"column":79}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":73},"generated":{"line":85,"column":93}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":74},"generated":{"line":85,"column":94}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":75},"generated":{"line":85,"column":95}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":81},"generated":{"line":85,"column":101}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":82},"generated":{"line":85,"column":102}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":87},"generated":{"line":85,"column":107}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":88},"generated":{"line":85,"column":108}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":76,"column":89},"generated":{"line":85,"column":109}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":86,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":86,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":86,"column":24}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":17},"generated":{"line":86,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":18},"generated":{"line":86,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":19},"generated":{"line":86,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":23},"generated":{"line":86,"column":33}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":24},"generated":{"line":86,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":28},"generated":{"line":86,"column":38}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":30},"generated":{"line":86,"column":47}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":31},"generated":{"line":86,"column":48}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":40},"generated":{"line":86,"column":57}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":41},"generated":{"line":86,"column":58}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":42},"generated":{"line":86,"column":59}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":77,"column":43},"generated":{"line":86,"column":60}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":87,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":11},"generated":{"line":87,"column":21}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":12},"generated":{"line":87,"column":22}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":87,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":87,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":25},"generated":{"line":87,"column":35}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":26},"generated":{"line":87,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":29},"generated":{"line":87,"column":39}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":31},"generated":{"line":87,"column":41}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":32},"generated":{"line":87,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":38},"generated":{"line":87,"column":48}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":46},"generated":{"line":87,"column":50}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":78,"column":47},"generated":{"line":87,"column":51}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":79,"column":4},"generated":{"line":88,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":79,"column":5},"generated":{"line":88,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":79,"column":6},"generated":{"line":88,"column":14}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":79,"column":7},"generated":{"line":88,"column":15}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":80,"column":4},"generated":{"line":89,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":80,"column":11},"generated":{"line":89,"column":19}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":80,"column":16},"generated":{"line":89,"column":24}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":80,"column":17},"generated":{"line":89,"column":25}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":80,"column":20},"generated":{"line":89,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":80,"column":21},"generated":{"line":89,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":90,"column":12}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":90,"column":19}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":15},"generated":{"line":90,"column":23}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":16},"generated":{"line":90,"column":24}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":19},"generated":{"line":90,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":20},"generated":{"line":90,"column":28}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":24},"generated":{"line":90,"column":32}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":25},"generated":{"line":90,"column":33}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":30},"generated":{"line":90,"column":38}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":81,"column":32},"generated":{"line":90,"column":40}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":6},"generated":{"line":91,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":15},"generated":{"line":91,"column":25}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":17},"generated":{"line":91,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":24},"generated":{"line":91,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":26},"generated":{"line":91,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":32},"generated":{"line":91,"column":42}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":34},"generated":{"line":91,"column":44}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":38},"generated":{"line":91,"column":48}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":39},"generated":{"line":91,"column":49}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":42},"generated":{"line":91,"column":52}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":44},"generated":{"line":92,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":51},"generated":{"line":92,"column":23}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":53},"generated":{"line":92,"column":25}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":58},"generated":{"line":92,"column":30}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":59},"generated":{"line":92,"column":31}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":72},"generated":{"line":92,"column":34}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":74},"generated":{"line":93,"column":16}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":85},"generated":{"line":93,"column":27}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":87},"generated":{"line":93,"column":29}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":82,"column":91},"generated":{"line":93,"column":33}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":83,"column":5},"generated":{"line":94,"column":13}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":94,"column":14}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":83,"column":7},"generated":{"line":94,"column":15}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":84,"column":2},"generated":{"line":95,"column":8}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":84,"column":3},"generated":{"line":95,"column":9}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":84,"column":3},"generated":{"line":96,"column":5}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":97,"column":1}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":98,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":85,"column":1},"generated":{"line":98,"column":36}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":87,"column":0},"generated":{"line":99,"column":0}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":87,"column":15},"generated":{"line":99,"column":18}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":87,"column":27},"generated":{"line":99,"column":30}},{"source":"../../src/claimsIssuer/claimsIssuer.ts","name":null,"original":{"line":87,"column":28},"generated":{"line":99,"column":31}}],"sources":{"../../src/claimsIssuer/claimsIssuer.ts":"/* eslint-disable new-cap */\nimport { decrypt } from 'eciesjs';\nimport crypto from 'crypto';\n// eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n// @ts-ignore\nimport { bn, ecc } from 'sjcl';\nimport { IClaimsIssuer } from '../interface';\nimport { Claims } from '../claims';\nimport { IPrivateClaim, IPublicClaim } from '../models';\n\nexport class ClaimsIssuer extends Claims implements IClaimsIssuer {\n  /**\n   * Verifies user signature on token and issue new token signed by issuer./\n   * Throws if user signature not valid\n   *\n   * @example\n   * ```typescript\n   * import { Keys } from '@ew-did-registry/keys';\n   * import { ClaimsIssuer } from '@ew-did-registry/claims';\n   *\n   * const issuer = new Keys();\n   * claims = new ClaimsIssuer(issuer);\n   * const issuedToken = await claims.issuePublicClaim(token);\n   * ```\n   * @param { string | IPublicClaim } claim - claim to issue. Can be\n   * specified as signed or unsigned claim\n   * @returns { Promise<string> } issued token\n   */\n  async issuePublicClaim(claim: string | IPublicClaim): Promise<string> {\n    if (typeof claim === 'string') {\n      claim = this.jwt.decode(claim) as IPublicClaim;\n    }\n    const { claimData, did } = claim;\n    const signedToken = await this.jwt.sign(\n      { claimData, did, signer: this.did },\n      {\n        algorithm: 'ES256', issuer: this.did, subject: claim.did, noTimestamp: true,\n      },\n    );\n    return signedToken;\n  }\n\n  /**\n   * Verifies user signature on token, decrypt private data and issue new token\n   * with sha256-hashed decrypted data signed by issuer. Throws if user\n   * signature not valid\n   *\n   * @example\n   * ```typescript\n   * import { Keys } from '@ew-did-registry/keys';\n   * import { ClaimsIssuer } from '@ew-did-registry/claims';\n   *\n   * const issuer = new Keys();\n   * claims = new ClaimsIssuer(issuer);\n   * const issuedToken = await claims.issuePrivateClaim(token);\n   * ```\n   * @params { string } token to verify\n   * @returns { Promise<string> } issued token\n   */\n  async issuePrivateClaim(token: string): Promise<string> {\n    if (!this.keys.privateKey) {\n      throw new Error('Private claim not supported');\n    }\n    const curve: sjcl.SjclEllipticalCurve = ecc.curves.k256;\n    const g = curve.G;\n    const claim: IPrivateClaim = this.jwt.decode(token) as IPrivateClaim;\n    if (!(await this.verifySignature(token, claim.iss as string))) {\n      throw new Error('User signature not valid');\n    }\n    claim.signer = this.did;\n    Object.entries(claim.claimData).forEach(([key, value]) => {\n      const decryptedField = decrypt(\n        this.keys.privateKey as string,\n        Buffer.from(value as string, 'hex'),\n      );\n      const fieldHash = crypto.createHash('sha256').update(decryptedField).digest('hex');\n      const PK = g.mult(new bn(fieldHash));\n      claim.claimData[key] = PK.toBits() as [];\n    });\n    delete claim.iss;\n    return this.jwt.sign(claim, {\n      algorithm: 'ES256', issuer: this.did, subject: claim.sub as string, noTimestamp: true,\n    });\n  }\n}\n\nexport default ClaimsIssuer;\n"},"lineCount":null}},"error":null,"hash":"09074f8d69f40493e566a5ee08903ec7","cacheData":{"env":{}}}